<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>Subversion on a USB stick</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description" content="Belfry Images, Ben Scott's personal blog"/>
		<meta name="author" content="Ben Scott"/>
		<link href="/lib/bootstrap/css/bootstrap.css" rel="stylesheet"/>
		<link href="/lib/bootstrap/css/bootstrap-responsive.css" rel="stylesheet"/>
		<script src="/lib/jquery-1.7.2.min.js"></script>
		<link href="/lib/google-code-prettify/prettify.css" rel="stylesheet"/>
		<script src="/lib/google-code-prettify/prettify.js"></script>
		<script src="/js/site.js"></script>
		<!--[if lt IE 9]>
			<script src=http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<style type="text/css">
		body {
			padding-top: 60px;
			padding-bottom: 40px;
		}
		.hero-unit {
			padding: 20px;
		}
		</style>
	</head>
	<body>
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="brand" href="/">Belfry Images</a>
					<div class="nav-collapse">
						<ul class="nav">
							<li><a href="/">Home</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="span3">
					<div class="hero-unit">
						<h1>Belfry Images</h1>
						<p>Ben Scott's personal blog</p>
					</div>
					<div class="well">
						<h2>About me</h2>

<p>A computer programmer, employed by <a href="http://capinvest.com.au">Capricorn Investment Partners</a> as IT manager, and as manager of <a href="http://ciplit.com.au">CIPL IT Services</a>.</p>

<p>I mostly work in C# / .NET 4.0, developing an in-house portfolio management system (WinForms based), with some ASP.NET MVC parts. I also do some development in Ruby, and have some commercial experience with HTML, JavaScript, and PHP.</p>

<p>Recently I've been contributing to <a href="http://...">MarkPad</a>, a WPF based Markdown editor created by the <a href="http://code52.org">Code52</a> project. It's pretty awesome.</p>


					</div>
					<div class="well">
<h2>Meanwhile, on the internet...</h2>

<ul class="unstyled">
	<li><a href="https://twitter.com/#!/belfryimages">Twitter</a></li>
	<li><a href="https://github.com/belfryimages">GitHub</a></li>
	<li><a href="http://stackoverflow.com/users/149259/ben-scott">Stack Overflow</a></li>
	<li><a href="http://careers.stackoverflow.com/benscott">Resume at Careers 2.0</a></li>
	<li><a href="http://www.linkedin.com/profile/view?id=60433262&trk=tab_pro">LinkedIn</a></li>
</ul>

</div>
				</div>
				<div class="span9">
					<ul class="breadcrumb">
	<li><a href="/">Home</a> <span class="divider">/</span></li>
	<li class="active">Subversion on a USB stick</li>
</ul>

<p><em><small>27 Sep 2009</small></em></p>

<p>I use Subversion for version control at work, so I wanted to use it for a couple of websites and projects that I play with at home. I’ve been thinking about buying a cheap server or NAS that I could set up but couldn’t justify the cost and electricity just for want of version control.</p>

<p>As it happens, my Subversion client of choice TortoiseSVN can create and access local Subversion repositories. Probably all SVN clients can do this, and this is just a feature of the system, but when I’m used to seeing the version control purely as a client/server configuration this was a bit of a surprise. TortoiseSVN integrates nicely with Windows Explorer which makes it extremely easy to work with. If I had to load a seperate SVN client just to commit changes I would most likely put it off and/or forget about it. TortoiseSVN makes working with Subversion so easy that it is the main reason I keep giving up on Linux for my development machines.</p>

<p>One of the attractions of version control is that the project is portable – I can check out (make a local copy of) a website on my home PC, make changes, commit the changes to the server, then update the site on my laptop, without having to worry about copying files (and having different versions of files in the one place). That requires the Subversion server to be accessible on both machines, and if I don’t happen to have internet access for any reason that may not be possible.</p>

<p>Setting up a repository on a USB stick gives me most of the benefits of the typical client/server setup. The biggest downside is a lack of backups, which is something that needs to be maintained on a server anyway, and should be worked around by making backups of the repositories on the USB stick. In any case even if the repository fails I still should have multiple working copies on various machines. Not ideal but at least the files won’t be lost.</p>

<p>So how to do this? First install TortoiseSVN. I’m going to assume familiarity with SVN, and with TortoiseSVN in particular.</p>

<p>On the USB stick, make a folder to store the repositories. I called my folder svnrepos. Inside that folder, make another folder for the first repository. This is the name of the repository so call it something sexy, like <code>bentest</code>. Right click the folder, go to TortoiseSVN, and Create repository here. Wheels will turn, and a message should appear saying the repository was created.</p>

<p>Now go to your development folder, or wherever you want to check out a working copy of the project. Right-click the development folder (eg <code>C:\Development\www</code>) and select SVN Checkout.</p>

<p>The URL of repository is the path to the local repository that you created, as a file URL. Mine is <code>file:///E:/svnrepos/bentest</code> (note there are three slashes after the file: part). The checkout directory is where the working copy will be created. It should be automatically filled in when editing the repository URL, but can be changed. Mine is <code>C:\Development\www\bentest</code>. Click OK and you should have revision 0 of the repository ready to create trunk, branch and tag folders and add content.</p>

<p>Version control. Distributed backups of your precious work. No reliance on internet access and access to private Subversion server. Beautiful.</p>

<p>I haven’t experimented with this so far but I suspect there may be issues if the USB drive comes up on another driver letter. The repository url will probably need to be changed in the working copy. That should be possible via the Relocate command in TortoiseSVN’s context menu.</p>

<p><em>UPDATE: Relocate is indeed the command to use. TortoiseSVN throws up a warning about corrupting your working copy, but as long as the path entered is the new path to the same place in the repository (eg from <code>file:///H:/svnrepos/bentest/trunk</code> to <code>file:///F:/svnrepos/bentest/trunk</code>) this is the best/only method.</em></p>



				</div>
			</div>

			<hr/>
			<footer>
				<p>Content &copy; 2012 Ben Scott</p>
			</footer>
		</div>
	</body>
</html>
